"use strict";!function(s){var u=!1;function o(o){var t=this,i=Object.assign({con:null,carouBody:null,carouIndex:null,size:null,count:0,index:0,isSwipe:!1,isAuto:!1,flag:null,inside:!1,tagColor:null,tagSeColor:null,time:3e3,aniTime:500},o);Object.keys(i).forEach(function(o){t[o]=i[o]})}s.ajax({url:oPageConfig.oPageUrl.loginUrl,type:"get"}).done(function(o){o&&(u=!0)}),s.ajax({url:oPageConfig.oPageUrl.toolStatuUrl,type:"get"}).done(function(o){for(var t in o.data)o.data[t]&&toolGotten(t)}),o.prototype.swipe=function(o,t){var i=this;i.isSwipe=!0,o===i.count&&(o=0),s(i.con+" "+i.carouIndex).eq(i.index).css("background-color",i.tagColor),s(i.con+" "+i.carouIndex).eq(o).css("background",i.tagSeColor),s(i.con+" "+i.carouBody).animate({left:"-"+o*i.size+"px"},i.aniTime,function(){i.isSwipe=!1,i.index=o,i.inside&&(clearInterval(i.flag),i.isAuto=!1)})},o.prototype.swipeStart=function(){var o=this;return setInterval(function(){o.swipe(o.index+1,o.isAuto)},o.time)},o.prototype.bindCall=function(){var i=this;s(i.con).mouseenter(function(o){i.inside=!0,i.isSwipe||(clearInterval(i.flag),i.isAuto=!1)}),s(i.con).mouseleave(function(o){i.inside=!1,i.isAuto||(i.flag=i.swipeStart(),i.isAuto=!0)}),s(i.con+" "+i.carouIndex).click(function(o){if(!i.isSwipe){clearInterval(i.flag),i.isAuto=!1;var t=s(i.con+" "+i.carouIndex).index(o.target);i.swipe(t)}}),s(i.con+" "+i.carouBody).click(function(o){i.isSwipe||(i.flag=i.swipeStart(),i.isAuto=!0)})},o.prototype.run=function(){var o=this;s(o.con).eq(0).css("height",s(o.con+" "+o.carouBody).eq(0).css("height")),s(o.con+" "+o.carouIndex).eq(0).css("background-color",o.tagSeColor),o.bindCall(),o.flag=o.swipeStart()},new o({con:".carousel",carouBody:".list",carouIndex:".index li",size:parseFloat(s(".carousel .list li").eq(0).css("width")),count:4,index:0,isSwipe:!1,isAuto:!1,flag:null,inside:!1,tagColor:"#fff",tagSeColor:"#3f1a84",time:3e3,aniTime:400}).run();var d=s(".dialog-bg"),t=s(".wrapper"),g=s("#column2"),f=s("#column3"),x=(s("#column4"),s("#column5")),p=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1],[!1,!1]];function h(){var o=p[2];for(var t in o)if(o[t])return!0;return!1}s(".confirm").on("click",function(){s(".dialog-box").hide(),d.hide()}),s(".hide").on("click",function(){s(".dialog-box").hide(),d.hide()}),t.find(".tool-item").on("click",function(){var o=s(this).hasClass("gray"),t=s(this),i=t.attr("data-id"),e=i.charAt(0);if(o||!o&&"3"===e&&h()){var n="3"!==e||o?"亲，道具已经领取过了哦，请在您的邮箱中查看":"亲，道具只能领取一个哦";return s(".dialog-text").text(n),s(".dialog-box").show(),void d.show()}u||(s(".dialog-text").text("亲，您还没有登录哦，请先登录后重试"),s(".dialog-box").show(),d.show());var a=i.charAt(2),r=void 0,l=oPageConfig.oPageUrl.optionUrl[e];function c(){var o=p[parseInt(e)-1];if("3"!==e)return r.addClass("gray"),void("e"!==a&&(o[parseInt(a)-1]=!0,function(o){var t=p[o];for(var i in t)if(!t[i])return!1;return!0}(parseInt(e)-1)&&t.parent().find(".tool-item").last().addClass("gray")));h()||(o[parseInt(a)-1]=!0,r.addClass("gray"))}"1"===e?r="e"===a?g.find(".tool-item"):t:"2"===e?r="e"===a?f.find(".tool-item"):t:"3"===e?r=t:"4"===e&&(r="e"===a?x.find(".tool-item"):t),s.ajax({url:l,type:"get"}).done(function(o){var t=o.data.single_text;"0"===o.code?(c(),s(".dialog-text").text(t),s(".dialog-box").show(),d.show()):"1"===o.code?(s(".dialog-text").text("亲，您的账户不符合领取条件哦"),s(".dialog-box").show(),d.show()):"2"===o.code&&(s(".dialog-text").text("很抱歉，当前网络异常，请稍后重试"),s(".dialog-box").show(),d.show())})})}(jQuery);